var Db=require("../db"),$=require("jquery-deferred");module.exports={hire:{params:{type:{required:!0,parseMethod:parseInt}},handler:function(e,r){var a=$.Deferred();return e.player["private"].coach={hired:!0,type:r.type,bill:0},e.isDirty=!0,a.resolve({success:!0}),a}},fire:{handler:function(e){var r=$.Deferred();return e.player["private"].coach.bill>0?(r.resolve({success:!1}),r):(e.player["private"].coach={hired:!1,type:0,bill:0},e.isDirty=!0,r.resolve({success:!0}),r)}},pay:{params:{bill:{required:!0,parseMethod:parseFloat}},handler:function(e,r){var a=$.Deferred(),i=Math.ceil(r.bill);return e.player["private"].money<i?(a.resolve({success:!1}),a):(e.player["private"].money-=i,e.player["private"].coach.bill=0,e.isDirty=!0,a.resolve({success:!0,money:-i}),a)}}};