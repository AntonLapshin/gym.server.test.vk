var Db=require("../db"),CoachesCollection=require("../gymdb/collections/coaches"),$=require("jquery-deferred"),LIMIT_TOP_COACHES=20;module.exports={create:function(e){var c=CoachesCollection.newCoach(e);return Db.insert("coaches",c),c},dec:function(e){return Db.update("coaches",e,{$inc:{q:-1}})},inc:function(e){return Db.update("coaches",e,{$inc:{q:1}})},getPay:function(e){return Db.update("coaches",e,{$set:{s:0}})},earn:function(e,c){return Db.update("coaches",e,{$inc:{s:c}})},get:function(e){return Db.find("coaches",e,{s:1,q:1})}};